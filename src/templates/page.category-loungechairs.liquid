<div id="app">
  <div class="categorySofas">
    {% assign hideDesktopSlider = true %}
    {% assign hideMobileSlider = false %}
    {% assign bannerContent = "{'items':[{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_tb_d_v2_00.jpg?v=1591295595', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_tb_m_v2_00.jpg?v=1591295596','heading':'Lounge chairs','description':'Pick a model and design the details.','linkText':'Customize now','url':'https://insideweather.com/products/el11cv-latte-edgar-lounge-chair-in-poppy-orange', dataSource: 'default'}, {'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_tb_d_v2_01.jpg?v=1591295597', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_tb_m_v2_01.jpg?v=1591295596','heading':'Frame Finish','description':'Select the silhouette and choose from a number of finishes to perfectly accent your home.','linkText':'Customize now','url':'https://insideweather.com/products/el11cv-latte-edgar-lounge-chair-in-poppy-orange', dataSource: 'frame-finish'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_tb_d_v2_02.jpg?v=1591295597','imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_tb_m_v2_02.jpg?v=1591295596','heading':'Upholstery','description':'Make it yours: choose from over 200 unique, quality upholsteries.','linkText':'Customize now','url':'https://insideweather.com/products/el11cv-latte-edgar-lounge-chair-in-poppy-orange', dataSource: 'upholstery'}]}"%}

    {% assign categoryBannerAccordion = "[{'accordionHead': 'Frame Finish', 'accordionDescription': 'Select the silhouette and choose from a number of finishes to perfectly accent your home.', 'accordionTarget': 'frame-finish'},{'accordionHead': 'Upholstery', 'accordionDescription': 'Make it yours: choose from over 200 unique, quality upholsteries.', 'accordionTarget': 'upholstery'}]" %}

    <category-banner
      :banner-content="{{bannerContent}}"
      :hide-desktop-slider="{{hideDesktopSlider}}"
      :category-banner-accordion="{{categoryBannerAccordion}}"
      >
    </category-banner>

    {% assign productCollections = "[{'image': 'https://content.cylindo.com/api/image/resize?account=4931&id=12081&scene=sku&features=4082068,4100675,4100678,4082069,4081796,4082070&frame=4&size=400&name=Lounge%20Chair%2001%20-%20Nels4&color=FFFFFF&format=JPG', 'title': 'Usonia™ Edgar Lounge Chair', 'linkText': 'Customize starting at $798', hyperLink: 'https://insideweather.com/products/el11an-latte-edgar-lounge-chair-in-cloud'}, {'image': 'https://content.cylindo.com/api/image/resize?account=4931&id=12085&scene=sku&features=3929994,3989366,3989369,3929995,3892967,3929996&frame=4&size=400&name=Finn4&color=FFFFFF&format=JPG', 'title': 'Usonia™ West Ottoman', 'linkText': 'Customize starting at $188', hyperLink: 'https://insideweather.com/products/wo11an-latte-west-ottoman-in-cloud'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chair_col_01.jpg?1662167', 'title': 'Ace Lounge Chair', 'linkText': 'Customize starting at $598', hyperLink: 'https://insideweather.com/products/al10af-latte-ace-lounge-chair-in-cloud'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chair_col_02.jpg?1662167', 'title': 'Vita Lounge Chair', 'linkText': 'Customize starting at $398', hyperLink: 'https://insideweather.com/products/vl11af-latte-vita-lounge-chair-in-cloud'}]" %}

    <div class="productCollection --pd-t-130">
      <div class="category-collection-main-wrapper">
        <category-collections
          :product-collections="{{productCollections}}"
          section-heading="Start with a Silhouette"
          section-description="Choose between an array of colors, graphics and finishes to make it 100% yours."
        >
        </category-collections>
      </div>
    </div>

    {% assign productDetails = "[{'isVideo':'true','objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_01_d_v2.mp4?v=1591296691', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_01_m_v2.mp4?v=1591296691', 'title': 'Custom Upholstery','description': 'Play around and flip through all the colors and patterns! When you’ve narrowed it down to your favs, order some swatches for that IRL buzz. Next thing you know you’ll be sitting plop right on top of your custom made throne.'},{'isVideo':'false', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_02_d_v2.jpg?v=1591298887', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_02_m_v2.jpg?v=1591298887', 'title': 'Attention to Detail','description': 'Our lounge chairs come in a variety of materials and finishes, each one designed to add the perfect accent to your space, from the unique layered look of finished plywood edges, to the fine-grain details of solid ash wood.'}, {'isVideo':'false', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_03_d-min.jpg?1662188', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_03_m-min.jpg?1662188', 'title': 'Life-Proof','description': 'Each lounge chair style comes with features that fit the pace of your unique life. Whether you want swappable custom seat pads or easy-to-clean cushion upholstery, there’s a chair here that’s got you covered. Look out for our stain resistant Performance fabrics, purrfectly Pet-Friendly selections and even Commercial Grade options that fit the bill!'}, {'isVideo':'false', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_04_d_v2.jpg?v=1591299014', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_details_04_m_v2.jpg?v=1591299014', 'title': 'Sustainable Style','description': 'Every material that we use is selected with intention. Look out for certifications across our lounge chair collection that meet the following standards: FSC, SFC, Oeko-Tex, & Bluesign. In our Crafthouse, we recycle any excess from each wood sheet we cut, in fact certain designs are even intended to absorb such “waste.” And as always, for every order placed with us one tree is planted via the National Forest Foundation.'}
    ]" %}

    <div class="productDetails --pd-t-130 --pd-b-130">
      <category-details :product-details="{{productDetails}}"></category-details>
    </div>

    {% assign categoryValueProps = "[{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_01-ca-crafted-min.jpg?1661468', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_01-ca-crafted_m_min.jpg?1661495', 'title':'California Crafted','description':'Every one of our pieces is made-to-order from our workshop in California. Sawing, sewing, packaging, and shipping—we see it all through from start to finish!'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_02-free-ship-min.jpg?1661468', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_02-free-ship_m_min.jpg?1661495', 'title':'Quick Ship Custom','description':'Custom furniture no longer means months of waiting. Our business model allows for each product to be highly customized to you, and sent off to your doorstep within a matter of days. Did we mention everything ships free?'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_03-home-trial-min.jpg?1661468', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_03-home-trial_m_min.jpg?1661495', 'title':'365 Day Home Trial','description':'Take some time to get acclimated to your new furniture. In fact, take all four seasons if you have to! You’ve got 365 days to try it out. Still not satisfied? We’ll take it back.'}, {'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_04-sustainable_d-min.png?v=1583278319', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_04-sustainable_m-min.png?v=1583278319', 'title':'One for One','description':'Inside for Outside. For every order placed with us, one tree is planted via the National Forest Foundation. Sleep easier knowing you’ve got the most sustainable furniture on the market.'}]"%}

    <div class="categoryValuePropsWrapper">
      <category-vprops
      :category-value-props="{{categoryValueProps}}"
      background-color="#F2F2F2"
      >
      </category-vprops>
    </div>

    {% assign lifeStyleItems = "[{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_01_v2.jpg?v=1591301651','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/140S27F06B39/140S27F06B39-0_small.jpg','title':'Espresso Ace Lounge Chair in Sunflower','price':'$673', 'productUrl':'https://insideweather.com/products/al11ab-espresso-ace-lounge-chair-in-sunflower'}]},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_02-min.jpg?1662637','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/149S776CF5D8/149S776CF5D8-0_small.jpg','title':'Espresso Vita Lounge Chair in Sweet Palm','price':'$573', 'productUrl':'https://insideweather.com/products/vl12bl-espresso-vita-lounge-chair-in-sweet-palm'}]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_03_v2.jpg?v=1591301652','popUpList': [{'productImage':'https://content.cylindo.com/api/image/resize?account=4931&id=12081&scene=sku&features=4082068,4100675,4100678,4082069,4081944,4082070&frame=4&size=150&name=Lounge%20Chair%2001%20-%20Nels4&color=FFFFFF&format=JPG','title':'Latte Edgar Lounge Chair in Usonia™ Design 105 Blushing Prairie','price':'$948', 'productUrl':'https://insideweather.com/products/el11lh-latte-edgar-lounge-chair-in-usonia-design-105-blushing-prairie'},{'productImage':'https://content.cylindo.com/api/image/resize?account=4931&id=12085&scene=sku&features=3929994,3989366,3989369,3929995,3893207,3929996&frame=4&size=150&name=Finn4&color=FFFFFF&format=JPG','title':'Latte West Ottoman in Usonia™ Design 105 Blushing Prairie','price':'$228', 'productUrl':'https://insideweather.com/products/wo11lh-latte-west-ottoman-in-usonia-design-105-blushing-prairie'}, {'productImage':'https://content.cylindo.com/api/image/resize?account=4931&id=14745&scene=sku&features=4055092,4054759,4054912,4055093,4055087,4055094,4055091,4055095&frame=1&size=150&name=Hanna%20Side%20Table1&color=FFFFFF&format=JPG','title':'Espresso Hanna Side Table','price':'$248', 'productUrl':'https://insideweather.com/products/hs11fyfy-espresso-hanna-side-table'}]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_04_v2.jpg?v=1591301651','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/149S3873E653/149S3873E653-0_small.jpg','title':'Espresso Vita Lounge Chair in Dark Warm Gray','price':'$573', 'productUrl':'https://insideweather.com/products/vl12gs-espresso-vita-lounge-chair-in-dark-warm-gray'},]},{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_05-min.jpg?1662637','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/149S68076676/149S68076676-0_small.jpg','title':'Espresso Vita Lounge Chair in Minty Fragmentation','price':'$573', 'productUrl':'https://insideweather.com/products/vl12fb-espresso-vita-lounge-chair-in-minty-fragmentation'},]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_06-min.jpg?1662637','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/140SA9A0D645/140SA9A0D645-0_small.jpg','title':'Black Ace Lounge Chair in Steel Blue','price':'$723', 'productUrl':'https://insideweather.com/products/al12as-black-ace-lounge-chair-in-steel-blue'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/140SD0AAC2B2/140SD0AAC2B2-0_small.jpg','title':'Espresso Ace Lounge Chair in Vanilla','price':'$748', 'productUrl':'https://insideweather.com/products/al11ar-espresso-ace-lounge-chair-in-vanilla'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/140S0614F366/140S0614F366-0_small.jpg','title':'Latte Ace Lounge Chair in Aegean Blue','price':'$673', 'productUrl':'https://insideweather.com/products/al10be-latte-ace-lounge-chair-in-aegean-blue'}]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_07-min.jpg?1662637','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/149SD91589EA/149SD91589EA-0_small.jpg','title':'Latte Vita Lounge Chair in Sunset Strokes','price':'$523', 'productUrl':'https://insideweather.com/products/vl11bm-latte-vita-lounge-chair-in-sunset-strokes'}]},{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_08_v2.jpg?v=1591301651','popUpList': [{'productImage':'https://content.cylindo.com/api/image/resize?account=4931&id=12081&scene=sku&features=4082068,4100675,4100678,4082069,4081872,4082070&frame=4&size=150&name=Lounge%20Chair%2001%20-%20Nels4&color=FFFFFF&format=JPG','title':'Latte Edgar Lounge Chair in Olive Green','price':'$798', 'productUrl':'https://insideweather.com/products/el11ao-latte-edgar-lounge-chair-in-olive-green'}]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_10-min.jpg?1662637','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/140SBA0E52F7/140SBA0E52F7-0_small.jpg','title':'Latte Ace Lounge Chair in Stone Blue','price':'$673', 'productUrl':'https://insideweather.com/products/al10ai-latte-ace-lounge-chair-in-stone-blue'}]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_lounge-chairs_lg_09_v2.jpg?v=1591301652','popUpList': [{'productImage':'https://content.cylindo.com/api/image/resize?account=4931&id=12081&scene=sku&features=4082068,4081673,4100678,4082069,4081937,4082070&frame=4&size=150&name=Lounge%20Chair%2001%20-%20Nels4&color=FFFFFF&format=JPG','title':'Espresso Edgar Lounge Chair in Pebble','price':'$948', 'productUrl':'https://insideweather.com/products/el10co-espresso-edgar-lounge-chair-in-pebble'}]}]"%}

    <div class="section_lifeStylePhotos --pd-t-130 --pd-b-130">
      <life-style-photos
        :life-style-items="{{lifeStyleItems}}"
        section-heading="Visualize the Possibilities"
        section-description="Ask more from your furniture."
        pop-up-heading="Visualize the Possibilities"
      >
      </life-style-photos>
    </div>
  </div>
</div>

<script>
const controller = new ScrollMagic.Controller();

function fadeinup(a, t, y=20) {
  var el=a;
  var tar=t;
  var set=TweenMax.staggerFromTo(el, 0.8, {
    opacity: 0,
    y: y
  }
  , {
    y: 0, opacity: 1, force3D: true
  }
  , 0.2);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(set).addTo(controller);
}

function fadeIn(a, t) {
  var el=a;
  var tar=t;
  var setFade=TweenMax.staggerFromTo(el, 0.8, {opacity: 0}, { opacity: 1, force3D: true
  }, 1);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(setFade).addTo(controller);
}

jQuery(function ($) {

  $('.CategoryBanner--clasification .point').click(function(){
    if($(this).hasClass('show-details')) {
      event.preventDefault();
      event.stopPropagation();
      $(this).find('p').slideToggle();
      $(this).removeClass('show-details');
      $('.CategoryBanner .owl-dots button:nth-of-type(1)').trigger('click');
    } else {
      $('.CategoryBanner--clasification .point p').slideUp();
      $(this).find('p').slideDown();
      $('.CategoryBanner--clasification .point').removeClass('show-details');
      $(this).addClass('show-details');
    }
  });

  fadeinup('.CategoryBanner .--animElement', ".CategoryBanner");
  if($(window).width() < 992) {
    fadeinup('.CategoryBanner .owl-dots button', ".CategoryBanner");
  } else {
    fadeinup('.CategoryBanner--clasification .point', ".CategoryBanner");
  }

  fadeinup('.CtegoryCollections .HeadingWithDescription *', ".productCollection");
  const collectionTween = new TimelineLite()
  collectionTween.call(function () {
    $('.CtegoryCollections--itemWrapper li').each(function (i) {
      var row = $(this).find('.--animElement');
      setTimeout(function() {
        TweenMax.staggerFromTo(row, 0.8, {opacity: 0, y: 20}, {opacity: 1, y: 0, force3D: true}, 0.2);
        if($('.CtegoryCollections--itemWrapper li').length === (i + 1)) {
          $('.CtegoryCollections--itemWrapper').addClass('--animLoaded');
        }
      }, 200 * i);
    });
  });

  new ScrollMagic.Scene({
    triggerElement: '.CtegoryCollections--itemWrapper',
    reverse: false,
    triggerHook: "onEnter",
    offset: 250
  }).setTween(collectionTween).addTo(controller);

  $('.CategoryDetails .image-content-box').each(function (i) {
    var figureElement = $(this).find('figure');
    var contentElements = $(this).find('.HeadingWithDescription *');
    var videoDetect = $(figureElement).find('video');
    var categoryDetailsTween=TweenMax.staggerFromTo(figureElement, 0.8, {opacity: 0,y: 20}, {y: 0, opacity: 1, force3D: true}, 0.2);
    new ScrollMagic.Scene( {
      triggerElement: '.CategoryDetails .image-content-box:nth-of-type('+ (i + 1) +')',
      reverse: false, triggerHook: "onEnter", offset: 250
    }).setTween(categoryDetailsTween).addTo(controller);

    var categoryDetailsContentTween=TweenMax.staggerFromTo(contentElements, 0.8, {opacity: 0,y: 20}, {y: 0, opacity: 1, force3D: true}, 0.4);
    new ScrollMagic.Scene( {
      triggerElement: '.CategoryDetails .image-content-box:nth-of-type('+ (i + 1) +')',
      reverse: false, triggerHook: "onEnter", offset: 250
    }).setTween(categoryDetailsContentTween).addTo(controller);

  });

  fadeinup('.CategoryVideo--videoFrame', '.section_categoryVideo', 100);
  fadeinup('.section_categoryVideo .HeadingWithDescription *', '.section_categoryVideo .HeadingWithDescription');
  $('.categoryValueProps').each(function (i) {
    fadeinup('.categoryValueProps:nth-of-type('+ (i + 1) +') .--animElement', '.categoryValueProps:nth-of-type('+ (i + 1) +')')
  });

  fadeinup('.LifeStylePhotos .HeadingWithDescription *', '.section_lifeStylePhotos');

  $('.LifeStylePhotos--gridContainer .LifeStylePhotos--column').each(function (i) {
    fadeinup('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') figure', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')', 50)
    fadeIn('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') .more-info', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')')
  });
});

function toggleSlide(item) {
  jQuery(item).slideToggle();
}
function downSlide(item) {
  jQuery(item).slideDown();
}
</script>
