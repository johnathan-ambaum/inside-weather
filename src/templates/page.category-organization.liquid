<div id="app">
  <div class="diningRoom">
    {% assign hideDesktopSlider = true %}
    {% assign hideMobileSlider = true %}
    {% assign isScrollAnimationRequire = false %}
    {% assign hasBannerAccoridon = false %}
    {% assign bannerContent = "{'items':[{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_decor-organization_tb_d.jpg?v=1581117300', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_decor-organization_tb_m.jpg?v=1581116932  ', 'heading':'Organization','description':'Creative solutions for every corner.','linkText':'','url':'javascript:void(0)', dataSource: 'default'}]}"%}

    <category-banner 
      :banner-content="{{bannerContent}}"
      :hide-desktop-slider="{{hideDesktopSlider}}"
      :hide-mobile-slider="{{hideMobileSlider}}"
      :has-banner-accoridon="{{hasBannerAccoridon}}"
      >
    </category-banner>
    
    {% assign productCollections = "[{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_01.jpg?1661421', 'title': 'Kobe Dining Chair', 'linkText': 'Customize starting at $128', hyperLink: 'https://insideweather.com/products/cd141112ht12-latte-kobe-side-chair-in-cloud'},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_02.jpg?1661421', 'title': 'Nola Dining Chair', 'linkText': 'Customize starting at $118', hyperLink: 'https://insideweather.com/products/nd10as12-nola-side-chair-in-cloud'},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_03.jpg?1661421', 'title': 'Polk Dining Chair', 'linkText': 'Customize starting at $138', hyperLink: 'https://insideweather.com/products/cd101112ht12-latte-polk-side-chair-in-cloud'},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_04.jpg?1661421', 'title': 'Luna Dining Chair', 'linkText': 'Customize starting at $118', hyperLink: 'https://insideweather.com/products/cd121112ht12-latte-luna-side-chair-in-cloud'},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_05.jpg?1661421', 'title': 'Round Dining Table', 'linkText': 'Customize starting at $298', hyperLink: 'https://insideweather.com/products/dt12cf13-latte-round-dining-table-in-retro-light-gray'},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_06.jpg?1661421', 'title': 'Rectangle Dining Table', 'linkText': 'Customize starting at $268', hyperLink: 'https://insideweather.com/products/dt14cf13-latte-rectangle-dining-table-in-retro-light-gray'},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_07.jpg?1661421', 'title': 'Square Dining Table', 'linkText': 'Customize starting at $298', hyperLink: 'https://insideweather.com/products/dt10cf13-latte-square-dining-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_08.jpg?1661421', 'title': 'Oval Dining Table', 'linkText': 'Customize starting at $268', hyperLink: 'https://insideweather.com/products/dt16cf13-latte-oval-dining-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_09.jpg?1661421', 'title': 'Sideboards', 'linkText': 'Customize starting at $718', hyperLink: 'https://insideweather.com/pages/sideboards'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining_col_v2_10.jpg?1661421', 'title': 'Credenzas', 'linkText': 'Customize starting at $518', hyperLink: 'https://insideweather.com/pages/credenzas'},]" %}
    
    {% assign collectionCustomImageStyle = true %}
    <div class="productCollection --pd-t-130">
      <div class="category-collection-main-wrapper">
        <category-collections
          :product-collections="{{productCollections}}"
          :collection-custom-image-style="{{collectionCustomImageStyle}}"
          section-heading="Dining Room"
        >
        </category-collections>
      </div>
    </div>
  </div>
</div>

<script>
const controller = new ScrollMagic.Controller();

function fadeinup(a, t, y=20) {
  var el=a;
  var tar=t;
  var set=TweenMax.staggerFromTo(el, 0.8, {
    opacity: 0,
    y: y
  }
  , {
    y: 0, opacity: 1, force3D: true
  }
  , 0.2);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(set).addTo(controller);
}

function fadeIn(a, t) {
  var el=a;
  var tar=t;
  var setFade=TweenMax.staggerFromTo(el, 0.8, {opacity: 0}, { opacity: 1, force3D: true
  }, 1);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(setFade).addTo(controller);
}

jQuery(function ($) { 

  fadeinup('.CategoryBanner .--animElement', ".CategoryBanner");

  fadeinup('.CtegoryCollections .HeadingWithDescription *', ".productCollection");
  const collectionTween = new TimelineLite()
  collectionTween.call(function () {
    $('.CtegoryCollections--itemWrapper li').each(function (i) {
      var row = $(this).find('.--animElement');
      setTimeout(function() {
        TweenMax.staggerFromTo(row, 0.8, {opacity: 0, y: 20}, {opacity: 1, y: 0, force3D: true}, 0.2);
        if($('.CtegoryCollections--itemWrapper li').length === (i + 1)) {
          $('.CtegoryCollections--itemWrapper').addClass('--animLoaded');
        }
      }, 200 * i);
    });
  });

  new ScrollMagic.Scene({
    triggerElement: '.CtegoryCollections--itemWrapper',
    reverse: false,
    triggerHook: "onEnter", 
    offset: 250
  }).setTween(collectionTween).addTo(controller);

  fadeinup('.LifeStylePhotos .HeadingWithDescription *', '.section_lifeStylePhotos');

  $('.LifeStylePhotos--gridContainer .LifeStylePhotos--column').each(function (i) {
    fadeinup('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') figure', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')', 50)
    fadeIn('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') .more-info', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')')
  });
});

function toggleSlide(item) {
  jQuery(item).slideToggle();
}
function downSlide(item) {
  jQuery(item).slideDown();
}
</script>