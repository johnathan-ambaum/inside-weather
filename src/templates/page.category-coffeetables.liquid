<div id="app">
  <div class="categorySofas">
    {% assign hideDesktopSlider = true %}
    {% assign hideMobileSlider = false %}
    {% assign bannerContent = "{'items':[{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_d_00-min.jpg?1663020', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_m_00-min.jpg?1663020','heading':'Coffee tables','description':'Start with a silhouette and color in the rest.','linkText':'Customize now','url':'https://insideweather.com/products/ct16av12-latte-oval-coffee-table-in-sweet-paradise', dataSource: 'default'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_d_01-min.jpg?1663020', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_m_01-min.jpg?1663020','heading':'Table Top','description':'Custom shapes and finishes.','linkText':'Customize now','url':'https://insideweather.com/products/ct16av12-latte-oval-coffee-table-in-sweet-paradise', dataSource: 'table-top'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_d_02-min.jpg?1663020','imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_m_02-min.jpg?1663020','heading':'Surface Design','description':'Over 180 reasons to start eating on the couch.','linkText':'Customize now','url':'https://insideweather.com/products/ct16av12-latte-oval-coffee-table-in-sweet-paradise', dataSource: 'surface-design'}, {'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_d_03-min.jpg?1663020','imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_tb_m_03-min.jpg?1663020','heading':'Base Style','description':'Everything from elegant hairpins to tapered brass.','linkText':'Customize now','url':'https://insideweather.com/products/ct16av12-latte-oval-coffee-table-in-sweet-paradise', dataSource: 'base-style'}]}"%}

    {% assign categoryBannerAccordion = "[{'accordionHead': 'Table Top', 'accordionDescription': 'Custom shapes and finishes.', 'accordionTarget': 'table-top'},{'accordionHead': 'Surface Design', 'accordionDescription': 'Over 180 reasons to start eating on the couch.', 'accordionTarget': 'surface-design'}, {'accordionHead': 'Base Style', 'accordionDescription': 'Everything from elegant hairpins to tapered brass.', 'accordionTarget': 'base-style'}]" %}

    <category-banner
      :banner-content="{{bannerContent}}"
      :hide-desktop-slider="{{hideDesktopSlider}}"
      :category-banner-accordion="{{categoryBannerAccordion}}"
      >
    </category-banner>

    {% assign productCollections = "[{'image': 'https://content.cylindo.com/api/image/resize?account=4931&id=14748&scene=sku&features=4117774,4117713,4117724,4117775,4117738,4117776,4117750,4117777,4117762,4117778,4117773,4117779&frame=3&size=400&name=Ido%20Coffee%20Table2&color=FFFFFF&format=JPG', 'title': 'Ido Coffee Table', 'linkText': 'Customize starting at $477', hyperLink: 'https://insideweather.com/products/ic10aaaaaaaa-latte-ido-coffee-table'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-table_col_01.jpg?1663047', 'title': 'Round Coffee Table', 'linkText': 'Customize starting at $158', hyperLink: 'https://insideweather.com/products/ct12cf12-latte-round-coffee-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-table_col_02.jpg?1663047', 'title': 'Oval Coffee Table', 'linkText': 'Customize starting at $198', hyperLink: 'https://insideweather.com/products/ct16cf12-latte-oval-coffee-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-table_col_04.jpg?1663047', 'title': 'Rectangle Coffee Table', 'linkText': 'Customize starting at $198', hyperLink: 'https://insideweather.com/products/ct14cf12-latte-rectangle-coffee-table-in-retro-light-gray'}]" %}

    <div class="productCollection --pd-t-130">
      <div class="category-collection-main-wrapper">
        <category-collections
          :product-collections="{{productCollections}}"
          section-heading="Start with a Collection"
          section-description="Customize every detail from tabletop design to base style."
        >
        </category-collections>
      </div>
    </div>

    {% assign productDetails = "[{'isVideo':'false','objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_01_d-min.jpg?1663192', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_01_m-min.jpg?1663192', 'title': 'Customize Your Style','description': 'Whether you’ve got a favorite color, a thing for wood grain, or you simply dig stylish patterns, the top of your table is prime real estate to make a statement and put the perfect accent on your room.'},{'isVideo':'true', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_02_d.mp4?1663087', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_02_m.mp4?1663170', 'title': 'Life-Proof','description': 'Not only does it look good, but it’s also ruggedly durable. A scuff-free, UV-resistant surface means that it’s perfect for that sunny spot in your home. It’s also FDA approved for all you messy eaters out there. And when you’re done, wipe it down with any cleaner you like.'},{'isVideo':'false', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_03_d-min.jpg?1663183', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_03_m-min.jpg?1663183', 'title': 'Materials You Want','description': 'Our custom tabletops are considered to meet some of the highest environmental standards in the industry. Think the Sustainable Forestry Initiative, LEED® accreditations, & FSC Certification (just to name a few). The wood and metal options used for the bases are made from solid ash wood and high-strength, powder-coated stainless steel. Don’t worry, we’ll never skip the details.'},]" %}

    <div class="productDetails --pd-t-130 --pd-b-130">
      <category-details :product-details="{{productDetails}}"></category-details>
    </div>

    {% assign categoryValueProps = "[{'image':'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_01-ca-crafted_d.jpg', 'imageSm': 'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_01-ca-crafted_m.jpg', 'title':'Made in the USA','description':'Every one of our furniture pieces is made-to-order from our workshop in California. Sawing, sewing, packaging, and shipping—we see it all through from start to finish!', 'link': '', 'linkto': ''},{'image':'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_02-free-ship_d.jpg', 'imageSm': 'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_02-free-ship_m.jpg', 'title':'Quick Ship Custom','description':'no longer means months of waiting. Our business model allows for each product to be highly customized to you, and sent off to your doorstep within a matter of days. Did we mention everything ships free?', 'link': 'Custom furniture', 'linkto': 'https://insideweather.com/'},{'image':'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_03-home-trial_d.jpg', 'imageSm': 'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_03-home-trial_m.jpg', 'title':'365 Day Home Trial','description':'Take some time to get acclimated to your new furniture. In fact, take all four seasons if you have to! You’ve got 365 days to try it out. Still not satisfied? We’ll take it back.', 'link': '', 'linkto': ''}, {'image':'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_04-sustainable_d.png', 'imageSm': 'https://cdn.insideweather.com/cat/all/vprop/cat_vprop_04-sustainable_m.png', 'title':'One for One','description':'Inside for Outside. For every order placed with us, one tree is planted via the National Forest Foundation. Sleep easier knowing you’ve got the most sustainable furniture on the market.', 'link': '', 'linkto': ''}]"%}

    <div class="categoryValuePropsWrapper">
      <category-vprops
      :category-value-props="{{categoryValueProps}}"
      background-color="#F2F2F2"
      >
      </category-vprops>
    </div>

    {% assign lifeStyleItems = "[{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_01-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48SC1046F07/48SC1046F07-0_small.jpg','title':'Latte Round Coffee Table in Metallic Mashup','price':'$178', 'productUrl':'https://insideweather.com/products/ct12ey15-latte-round-coffee-table-in-metallic-mashup'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_02-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/47S3CEB8D42/47S3CEB8D42-0_small.jpg','title':'Latte Oval Coffee Table in Cream','price':'$198', 'productUrl':'https://insideweather.com/products/ct16gk12-latte-oval-coffee-table-in-cream'},
    {'productImage':'https://content.cylindo.com/api/v2/4931/products/ANA_SOF/frames/1/ANA_SOF.JPG?background=FFFFFF&feature=ARM%20STYLE:MILO%20(FABRIC)&feature=UPHOLSTERY:MICRO%20SUEDE%20CHARCOAL&feature=CONFIGURATION:SPLIT_SPLIT&feature=PILLOW%20AND%20CUSHION%20SHAPE:WATERFALL&feature=PILLOW%20DETAIL:NO%20BUTTON&feature=BASE%20STYLE:DOWEL&feature=BASE%20FINISH:BLACK&feature=ADD%20ONS:NONE&size=400','title':'Custom Milo Sofa in Charcoal','price':'$1398', 'productUrl':'https://insideweather.com/products/sf13bo111010231010-custom-milo-sofa-in-charcoal'},
    {'productImage':'https://banksy-images.s3.amazonaws.com/items/47S0FACAE70/47S0FACAE70-0_small.jpg','title':'Latte Round Side Table in Cream','price':'$148', 'productUrl':'https://insideweather.com/products/st12gk12-latte-round-side-table-in-cream'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_03-min.jpg?1663293','popUpList': [{'productImage':'https://content.cylindo.com/api/v2/4931/products/ANA_SOF/frames/1/ANA_SOF.JPG?background=FFFFFF&feature=ARM%20STYLE:LEVI%20(FABRIC)&feature=UPHOLSTERY:LINEN%20WEAVE%20FOG&feature=CONFIGURATION:SPLIT_SPLIT&feature=PILLOW%20AND%20CUSHION%20SHAPE:PLUSH&feature=PILLOW%20DETAIL:NO%20BUTTON&feature=BASE%20STYLE:BEVELED&feature=BASE%20FINISH:LATTE&feature=ADD%20ONS:NONE&size=400','title':'Custom Levi Sofa in Fog','price':'$1473', 'productUrl':'https://insideweather.com/products/sf14av111110141010-custom-levi-sofa-in-fog'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/47S563BAC97/47S563BAC97-0_small.jpg','title':'Latte Oval Coffee Table in White','price':'$198', 'productUrl':'https://insideweather.com/products/ct16ad12-latte-oval-coffee-table-in-white'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_04-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S3AB9EF18/48S3AB9EF18-0_small.jpg','title':'Latte Round Coffee Table in White Marble','price':'$178', 'productUrl':'https://insideweather.com/products/ct12ac17-latte-round-coffee-table-in-white-marble'},]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_05-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/47SE9A5972E/47SE9A5972E-0_small.jpg','title':'Espresso Rectangle Coffee Table in Vibrant Tessellation','price':'$198', 'productUrl':'https://insideweather.com/products/ct15ah13-espresso-rectangle-coffee-table-in-vibrant-tessellation'},]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_06-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/47SB8B8E413/47SB8B8E413-0_small.jpg','title':'Espresso Oval Coffee Table in Espresso Wood','price':'$228', 'productUrl':'https://insideweather.com/products/ct17fy13-espresso-oval-coffee-table-in-espresso-wood'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/47S7600861F/47S7600861F-0_small.jpg','title':'Espresso Round Side Table in Espresso Wood','price':'$168', 'productUrl':'https://insideweather.com/products/st13fy13-espresso-round-side-table-in-espresso-wood'}, {'productImage':'https://content.cylindo.com/api/v2/4931/products/ANA_SOF/frames/1/ANA_SOF.JPG?background=FFFFFF&feature=ARM%20STYLE:JETT%20(WOOD)&feature=ARM%20FINISH:LIGHT%20ESPRESSO&feature=UPHOLSTERY:LINEN%20WEAVE%20FOG&feature=CONFIGURATION:SPLIT_SPLIT&feature=PILLOW%20AND%20CUSHION%20SHAPE:PLUSH&feature=PILLOW%20DETAIL:NO%20BUTTON&feature=BASE%20STYLE:BEVELED&feature=BASE%20FINISH:LIGHT%20ESPRESSO&feature=ADD%20ONS:NONE&size=400','title':'Custom Jett Sofa in Fog','price':'$1623', 'productUrl':'https://insideweather.com/products/sf16av111110171010-custom-jett-sofa-in-fog'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_07-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/47S842B135B/47S842B135B-0_small.jpg','title':'Latte Oval Coffee Table in Sweet Paradise','price':'$198', 'productUrl':'https://insideweather.com/products/ct16av12-latte-oval-coffee-table-in-sweet-paradise'}, {'productImage':'https://content.cylindo.com/api/v2/4931/products/ANA_SOF/frames/1/ANA_SOF.JPG?background=FFFFFF&feature=ARM%20STYLE:LEVI%20(FABRIC)&feature=UPHOLSTERY:PEBBLE%20WEAVE%20POPPY%20ORANGE&feature=CONFIGURATION:CLASSIC_CLASSIC&feature=PILLOW%20AND%20CUSHION%20SHAPE:WATERFALL&feature=PILLOW%20DETAIL:BUTTON%201&feature=BASE%20STYLE:FLARE&feature=BASE%20FINISH:LATTE&feature=ADD%20ONS:NONE&size=400','title':'Custom Levi Sofa in Poppy Orange','price':'$1373', 'productUrl':'https://insideweather.com/products/sf14cv101011121010-custom-levi-sofa-in-poppy-orange'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_08-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S47FE94E0/48S47FE94E0-0_small.jpg','title':'Latte Square Coffee Table in Modern Patchwork','price':'$178', 'productUrl':'https://insideweather.com/products/ct10eh11-latte-square-coffee-table-in-modern-patchwork'}, {'productImage':'https://content.cylindo.com/api/v2/4931/products/ANA_SFT/frames/1/ANA_SFT.JPG?background=FFFFFF&feature=ARM%20STYLE:BROOKLYN%20(FABRIC)&feature=UPHOLSTERY:PEBBLE%20WEAVE%20CINDER%20GRAY&feature=CONFIGURATION:CLASSIC_CLASSIC&feature=PILLOW%20AND%20CUSHION%20SHAPE:SNUG&feature=PILLOW%20DETAIL:NO%20BUTTON&feature=BASE%20STYLE:ARC&feature=BASE%20FINISH:METAL%20LEGS%20SILVER&feature=ADD%20ONS:NONE&size=400','title':'Custom Brooklyn Sofette in Cinder Gray','price':'$1048', 'productUrl':'https://insideweather.com/products/se18cs131210111010-custom-brooklyn-sofette-in-cinder-gray'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_10-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48SC1046F07/48SC1046F07-0_small.jpg','title':'Latte Round Coffee Table in Metallic Mashup','price':'$178', 'productUrl':'https://insideweather.com/products/ct12ey15-latte-round-coffee-table-in-metallic-mashup'}]},

    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_coffee-tables_lg_09-min.jpg?1663293','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/47SE58BF9B8/47SE58BF9B8-0_small.jpg','title':'Latte Oval Coffee Table in White Marble','price':'$198', 'productUrl':'https://insideweather.com/products/ct16ac12-latte-oval-coffee-table-in-white-marble'}]}]"%}

    <div class="section_lifeStylePhotos --pd-t-130 --pd-b-130">
      <life-style-photos
        :life-style-items="{{lifeStyleItems}}"
        section-heading="Visualize the Possibilities"
        section-description="Ask more from your furniture."
        pop-up-heading="Visualize the Possibilities"
      >
      </life-style-photos>
    </div>
  </div>
</div>

<script>
const controller = new ScrollMagic.Controller();

function fadeinup(a, t, y=20) {
  var el=a;
  var tar=t;
  var set=TweenMax.staggerFromTo(el, 0.8, {
    opacity: 0,
    y: y
  }
  , {
    y: 0, opacity: 1, force3D: true
  }
  , 0.2);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(set).addTo(controller);
}

function fadeIn(a, t) {
  var el=a;
  var tar=t;
  var setFade=TweenMax.staggerFromTo(el, 0.8, {opacity: 0}, { opacity: 1, force3D: true
  }, 1);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(setFade).addTo(controller);
}

jQuery(function ($) {

  $('.CategoryBanner--clasification .point').click(function(){
    if($(this).hasClass('show-details')) {
      event.preventDefault();
      event.stopPropagation();
      $(this).find('p').slideToggle();
      $(this).removeClass('show-details');
      $('.CategoryBanner .owl-dots button:nth-of-type(1)').trigger('click');
    } else {
      $('.CategoryBanner--clasification .point p').slideUp();
      $(this).find('p').slideDown();
      $('.CategoryBanner--clasification .point').removeClass('show-details');
      $(this).addClass('show-details');
    }
  });

  fadeinup('.CategoryBanner .--animElement', ".CategoryBanner");
  if($(window).width() < 992) {
    fadeinup('.CategoryBanner .owl-dots button', ".CategoryBanner");
  } else {
    fadeinup('.CategoryBanner--clasification .point', ".CategoryBanner");
  }

  fadeinup('.CtegoryCollections .HeadingWithDescription *', ".productCollection");
  const collectionTween = new TimelineLite()
  collectionTween.call(function () {
    $('.CtegoryCollections--itemWrapper li').each(function (i) {
      var row = $(this).find('.--animElement');
      setTimeout(function() {
        TweenMax.staggerFromTo(row, 0.8, {opacity: 0, y: 20}, {opacity: 1, y: 0, force3D: true}, 0.2);
        if($('.CtegoryCollections--itemWrapper li').length === (i + 1)) {
          $('.CtegoryCollections--itemWrapper').addClass('--animLoaded');
        }
      }, 200 * i);
    });
  });

  new ScrollMagic.Scene({
    triggerElement: '.CtegoryCollections--itemWrapper',
    reverse: false,
    triggerHook: "onEnter",
    offset: 250
  }).setTween(collectionTween).addTo(controller);

  $('.CategoryDetails .image-content-box').each(function (i) {
    var figureElement = $(this).find('figure');
    var contentElements = $(this).find('.HeadingWithDescription *');
    var videoDetect = $(figureElement).find('video');
    var categoryDetailsTween=TweenMax.staggerFromTo(figureElement, 0.8, {opacity: 0,y: 20}, {y: 0, opacity: 1, force3D: true}, 0.2);
    new ScrollMagic.Scene( {
      triggerElement: '.CategoryDetails .image-content-box:nth-of-type('+ (i + 1) +')',
      reverse: false, triggerHook: "onEnter", offset: 250
    }).setTween(categoryDetailsTween).addTo(controller);

    var categoryDetailsContentTween=TweenMax.staggerFromTo(contentElements, 0.8, {opacity: 0,y: 20}, {y: 0, opacity: 1, force3D: true}, 0.4);
    new ScrollMagic.Scene( {
      triggerElement: '.CategoryDetails .image-content-box:nth-of-type('+ (i + 1) +')',
      reverse: false, triggerHook: "onEnter", offset: 250
    }).setTween(categoryDetailsContentTween).addTo(controller);

  });

  fadeinup('.CategoryVideo--videoFrame', '.section_categoryVideo', 100);
  fadeinup('.section_categoryVideo .HeadingWithDescription *', '.section_categoryVideo .HeadingWithDescription');
  $('.categoryValueProps').each(function (i) {
    fadeinup('.categoryValueProps:nth-of-type('+ (i + 1) +') .--animElement', '.categoryValueProps:nth-of-type('+ (i + 1) +')')
  });

  fadeinup('.LifeStylePhotos .HeadingWithDescription *', '.section_lifeStylePhotos');

  $('.LifeStylePhotos--gridContainer .LifeStylePhotos--column').each(function (i) {
    fadeinup('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') figure', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')', 50)
    fadeIn('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') .more-info', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')')
  });
});

function toggleSlide(item) {
  jQuery(item).slideToggle();
}
function downSlide(item) {
  jQuery(item).slideDown();
}
</script>
