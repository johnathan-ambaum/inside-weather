<div id="app">
  <div class="categorySofas">
    {% assign hideDesktopSlider = true %}
    {% assign hideMobileSlider = false %}
    {% assign bannerContent = "{'items':[{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_d_00-min.jpg?1663479', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_m_00-min.jpg?1663479','heading':'Dining tables','description':'Start with a silhouette and color in the rest.','linkText':'Customize now','url':'https://insideweather.com/products/dt12dv13-latte-round-dining-table-in-moody-green', dataSource: 'default'},

    {'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_d_01-min.jpg?1663479', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_m_01-min.jpg?1663479','heading':'Table Top','description':'Table styles in every shape and finish.', 'linkText':'Customize now','url':'https://insideweather.com/products/dt12dv13-latte-round-dining-table-in-moody-green', dataSource: 'table-top'},

    {'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_d_02-min.jpg?1663479','imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_m_02-min.jpg?1663479','heading':'Surface Design','description':'Make mealtime more colorful with 180+ custom colors and prints.','linkText':'Customize now','url':'https://insideweather.com/products/dt12dv13-latte-round-dining-table-in-moody-green', dataSource: 'surface-design'}, 

    {'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_d_03-min.jpg?1663479','imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_tb_m_03-min.jpg?1663479','heading':'Base Style','description':'Everything from elegant hairpins to tapered brass.','linkText':'Customize now','url':'https://insideweather.com/products/dt12dv13-latte-round-dining-table-in-moody-green', dataSource: 'base-style'}]}"%}

    {% assign categoryBannerAccordion = "[{'accordionHead': 'Table Top', 'accordionDescription': 'Table styles in every shape and finish.', 'accordionTarget': 'table-top'},{'accordionHead': 'Surface Design', 'accordionDescription': 'Over 180 reasons to start eating on the couch.', 'accordionTarget': 'surface-design'}, {'accordionHead': 'Base Style', 'accordionDescription': 'Everything from elegant hairpins to tapered brass.', 'accordionTarget': 'base-style'}]" %}

    <category-banner 
      :banner-content="{{bannerContent}}"
      :hide-desktop-slider="{{hideDesktopSlider}}"
      :category-banner-accordion="{{categoryBannerAccordion}}"
      >
    </category-banner>

    {% assign productCollections = "[{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-table_col_01.jpg?1663406', 'title': 'Round Dining Table', 'linkText': 'Customize starting at $228', hyperLink: 'https://insideweather.com/products/dt12cf14-latte-round-dining-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-table_col_02.jpg?1663406', 'title': 'Rectangle Dining Table', 'linkText': 'Customize starting at $268', hyperLink: 'https://insideweather.com/products/dt14cf14-latte-rectangle-dining-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-table_col_03.jpg?1663406', 'title': 'Oval Dining Table', 'linkText': 'Customize starting at $268', hyperLink: 'https://insideweather.com/products/dt16cf14-latte-oval-dining-table-in-retro-light-gray'}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-table_col_04.jpg?1663406', 'title': 'Square Dining Table', 'linkText': 'Customize starting at $298', hyperLink: 'https://insideweather.com/products/dt10cf14-latte-square-dining-table-in-retro-light-gray'}]" %}

    <div class="productCollection --pd-t-130">
      <div class="category-collection-main-wrapper">
        <category-collections
          :product-collections="{{productCollections}}"
          section-heading="Start with a Shape"
          section-description="Customize every detail from tabletop design all the way down to the legs."
        >
        </category-collections>
      </div>
    </div>

    {% assign productDetails = "[{'isVideo':'false','objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_01_d-min.jpg?1663192', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_01_m-min.jpg?1663192', 'title': 'Customize Your Style','description': 'Whether you’ve got a favorite color, a thing for wood grain, or you simply dig stylish patterns, the top of your table is prime real estate to make a statement and put the perfect accent on your room.'},{'isVideo':'true', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_02_d.mp4?1663087', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_02_m.mp4?1663170', 'title': 'Life-Proof','description': 'Not only does it look good, but it’s also ruggedly durable. A scuff-free, UV-resistant surface means that it’s perfect for that sunny spot in your home. It’s also FDA approved for all you messy eaters out there. And when you’re done, wipe it down with any cleaner you like.'},{'isVideo':'false', 'objectUrl': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_03_d-min.jpg?1663183', 'objectUrlMob': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_tables_details_03_m-min.jpg?1663183', 'title': 'Materials You Want','description': 'Our custom tabletops are considered to meet some of the highest environmental standards in the industry. Think the Sustainable Forestry Initiative, LEED® accreditations, & FSC Certification (just to name a few). The wood and metal options used for the bases are made from solid ash wood and high-strength, powder-coated stainless steel. Don’t worry, we’ll never skip the details.'},]" %}

    <div class="productDetails --pd-t-130 --pd-b-130">
      <category-details :product-details="{{productDetails}}"></category-details>
    </div>

    {% assign categoryValueProps = "[{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_01-ca-crafted-min.jpg?1661468', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_01-ca-crafted_m_min.jpg?1661495', 'title':'California Crafted','description':'Every one of our pieces is made-to-order from our workshop in California. Sawing, sewing, packaging, and shipping—we see it all through from start to finish!'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_02-free-ship-min.jpg?1661468', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_02-free-ship_m_min.jpg?1661495', 'title':'Free Shipping','description':'That’s right. Free shipping on every order! And did we mention that it ships within days? Besides, life’s too short to wait...and you desperately need a place to sit.'},{'image':'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_03-home-trial-min.jpg?1661468', 'imageSm': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_vprop_03-home-trial_m_min.jpg?1661495', 'title':'365 Day Home Trial','description':'Take some time to get acclimated to your new design. In fact, take all four seasons if you have to! You’ve got 365 days to try it out. Still not satisfied? We’ll take it back.'}]"%}
    
    <div class="categoryValuePropsWrapper">
      <category-vprops 
      :category-value-props="{{categoryValueProps}}"
      background-color="#F2F2F2"
      >
      </category-vprops>
    </div>

    {% assign lifeStyleItems = "[{'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_01-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S7EBD6014/48S7EBD6014-0_small.jpg','title':'Latte Square Dining Table in Black Marble','price':'$328', 'productUrl':'https://insideweather.com/products/dt10ha13-latte-square-dining-table-in-black-marble'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/82SB33A2A03/82SB33A2A03-0_small.jpg','title':'Latte Polk Armchair in Heathered Taupe','price':'$198', 'productUrl':'https://insideweather.com/products/cd111111gk15-latte-polk-armchair-in-heathered-taupe'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/195S91847F2B/195S91847F2B-0_small.jpg','title':'Latte Sloan Credenza in Black Marble','price':'$538', 'productUrl':'https://insideweather.com/products/cr10hb1320-latte-sloan-credenza-in-black-marble'}]},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_02-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S8432B6FB/48S8432B6FB-0_small.jpg','title':'Latte Rectangle Dining Table in Muted Melange','price':'$298', 'productUrl':'https://insideweather.com/products/dt14dp11-latte-rectangle-dining-table-in-muted-melange'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/144S1FC54B97/144S1FC54B97-0_small.jpg','title':'Nola Side Chair in Aegean Blue','price':'$153', 'productUrl':'https://insideweather.com/products/nd10aw10-nola-side-chair-in-aegean-blue'},]},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_03-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S8D51AA46/48S8D51AA46-0_small.jpg','title':'Latte Round Dining Table in White Marble','price':'$328', 'productUrl':'https://insideweather.com/products/dt12ac13-latte-round-dining-table-in-white-marble'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/82S4269F128/82S4269F128-0_small.jpg','title':'Latte Luna Side Chair in Sunny Tropics','price':'$153', 'productUrl':'https://insideweather.com/products/cd121111ey15-latte-luna-side-chair-in-modern-tropics'}]}, {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_04-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S91CA0B32/48S91CA0B32-0_small.jpg','title':'Latte Round Dining Table in Vibrant Dark Blue','price':'$298', 'productUrl':'https://insideweather.com/products/dt12aq13-latte-round-dining-table-in-vibrant-dark-blue'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/82S9AB6F35F/82S9AB6F35F-0_small.jpg','title':'Latte Kobe Side Chair in Vibrant Yellow','price':'$173', 'productUrl':'https://insideweather.com/products/cd11111ag15-latte-polk-side-chair-in-vibrant-yellow'}]},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_05-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S2AC4926D/48S2AC4926D-0.jpg','title':'Latte Rectangle Dining Table in Latte Wood','price':'$298', 'productUrl':'https://insideweather.com/products/dt14fi15-latte-rectangle-dining-table-in-latte-wood'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/144S2042D2C9/144S2042D2C9-0_small.jpg','title':'Nola Side Chair in Whiskey','price':'$173', 'productUrl':'https://insideweather.com/products/nd10ab17-nola-side-chair-in-whiskey'}]},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_06-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48SD386112F/48SD386112F-0_small.jpg','title':'Latte Rectangle Dining Table in White','price':'$268', 'productUrl':'https://insideweather.com/products/dt14ad13-latte-rectangle-dining-table-in-white'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/144S153497F3/144S153497F3-0_small.jpg','title':'Nola Side Chair in Cayenne','price':'$118', 'productUrl':'https://insideweather.com/products/nd10au12-nola-side-chair-in-cayenne'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/195SEA0111A6/195SEA0111A6-0_small.jpg','title':'Latte Voss Sideboard in Nordic Blue','price':'$718', 'productUrl':'https://insideweather.com/products/sb10bj1013-latte-voss-sideboard-in-nordic-blue'}]}, 
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_07-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48SDE7558C2/48SDE7558C2-0_small.jpg','title':'Espresso Round Dining Table in Metallic Mashup','price':'$328', 'productUrl':'https://insideweather.com/products/dt13ey12-espresso-round-dining-table-in-metallic-mashup'}]},
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_08-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S8D1759A5/48S8D1759A5-0.jpg','title':'Espresso Round Dining Table in Vibrant Tessellation','price':'$328', 'productUrl':'https://insideweather.com/products/dt12ah14-latte-round-dining-table-in-vibrant-tessellation'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/82S34D1B328/82S34D1B328-0_small.jpg','title':'Espresso Luna Side Chair in Vibrant Red','price':'$153', 'productUrl':'https://insideweather.com/products/cd121010ak16-espresso-luna-side-chair-in-vibrant-red'}]},  
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_10-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48S2AC4926D/48S2AC4926D-0.jpg','title':'Latte Rectangle Dining Table in Latte Wood','price':'$298', 'productUrl':'https://insideweather.com/products/dt14fi15-latte-rectangle-dining-table-in-latte-wood'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/82S733C5F86/82S733C5F86-0_small.jpg','title':'Latte Kobe Side Chair in Nordic Red','price':'$163', 'productUrl':'https://insideweather.com/products/cd141111dw14-latte-kobe-side-chair-in-nordic-red'}]}, 
    {'image': 'https://cdn.shopify.com/s/files/1/2994/0144/files/3.0_cat_dining-tables_lg_09-min.jpg?1663684','popUpList': [{'productImage':'https://banksy-images.s3.amazonaws.com/items/48SAC14EDA6/48SAC14EDA6-0_small.jpg','title':'Latte Round Dining Table in Dark Cool Gray','price':'$298', 'productUrl':'https://insideweather.com/products/dt12hb12-latte-round-dining-table-in-black'}, {'productImage':'https://banksy-images.s3.amazonaws.com/items/82S5093640B/82S5093640B-0_small.jpg','title':'Latte Polk Side Chair in Onyx','price':'$198', 'productUrl':'https://insideweather.com/products/cd101111dn15-latte-polk-side-chair-in-onyx'}]}]"%}

    <div class="section_lifeStylePhotos --pd-t-130 --pd-b-130">
      <life-style-photos
        :life-style-items="{{lifeStyleItems}}"
        section-heading="Visualize the Possibilities"
        section-description="Ask more from your furniture."
        pop-up-heading="Visualize the Possibilities"
      >
      </life-style-photos>
    </div>
  </div>
</div>

<script>
const controller = new ScrollMagic.Controller();

function fadeinup(a, t, y=20) {
  var el=a;
  var tar=t;
  var set=TweenMax.staggerFromTo(el, 0.8, {
    opacity: 0,
    y: y
  }
  , {
    y: 0, opacity: 1, force3D: true
  }
  , 0.2);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(set).addTo(controller);
}

function fadeIn(a, t) {
  var el=a;
  var tar=t;
  var setFade=TweenMax.staggerFromTo(el, 0.8, {opacity: 0}, { opacity: 1, force3D: true
  }, 1);
  new ScrollMagic.Scene( {
    triggerElement: tar, reverse: false, triggerHook: "onEnter", offset: 250
  }
  ).setTween(setFade).addTo(controller);
}

jQuery(function ($) { 
  
  $('.CategoryBanner--clasification .point').click(function(){
    if($(this).hasClass('show-details')) {
      event.preventDefault();
      event.stopPropagation();
      $(this).find('p').slideToggle();
      $(this).removeClass('show-details');
      $('.CategoryBanner .owl-dots button:nth-of-type(1)').trigger('click');
    } else {
      $('.CategoryBanner--clasification .point p').slideUp();
      $(this).find('p').slideDown();
      $('.CategoryBanner--clasification .point').removeClass('show-details');
      $(this).addClass('show-details');
    }
  });

  fadeinup('.CategoryBanner .--animElement', ".CategoryBanner");
  if($(window).width() < 992) {
    fadeinup('.CategoryBanner .owl-dots button', ".CategoryBanner");
  } else {
    fadeinup('.CategoryBanner--clasification .point', ".CategoryBanner");
  }

  fadeinup('.CtegoryCollections .HeadingWithDescription *', ".productCollection");
  const collectionTween = new TimelineLite()
  collectionTween.call(function () {
    $('.CtegoryCollections--itemWrapper li').each(function (i) {
      var row = $(this).find('.--animElement');
      setTimeout(function() {
        TweenMax.staggerFromTo(row, 0.8, {opacity: 0, y: 20}, {opacity: 1, y: 0, force3D: true}, 0.2);
        if($('.CtegoryCollections--itemWrapper li').length === (i + 1)) {
          $('.CtegoryCollections--itemWrapper').addClass('--animLoaded');
        }
      }, 200 * i);
    });
  });

  new ScrollMagic.Scene({
    triggerElement: '.CtegoryCollections--itemWrapper',
    reverse: false,
    triggerHook: "onEnter", 
    offset: 250
  }).setTween(collectionTween).addTo(controller);

  $('.CategoryDetails .image-content-box').each(function (i) {
    var figureElement = $(this).find('figure');
    var contentElements = $(this).find('.HeadingWithDescription *');
    var videoDetect = $(figureElement).find('video');
    var categoryDetailsTween=TweenMax.staggerFromTo(figureElement, 0.8, {opacity: 0,y: 20}, {y: 0, opacity: 1, force3D: true}, 0.2);
    new ScrollMagic.Scene( {
      triggerElement: '.CategoryDetails .image-content-box:nth-of-type('+ (i + 1) +')', 
      reverse: false, triggerHook: "onEnter", offset: 250
    }).setTween(categoryDetailsTween).addTo(controller);

    var categoryDetailsContentTween=TweenMax.staggerFromTo(contentElements, 0.8, {opacity: 0,y: 20}, {y: 0, opacity: 1, force3D: true}, 0.4);
    new ScrollMagic.Scene( {
      triggerElement: '.CategoryDetails .image-content-box:nth-of-type('+ (i + 1) +')', 
      reverse: false, triggerHook: "onEnter", offset: 250
    }).setTween(categoryDetailsContentTween).addTo(controller);

  });

  fadeinup('.CategoryVideo--videoFrame', '.section_categoryVideo', 100);
  fadeinup('.section_categoryVideo .HeadingWithDescription *', '.section_categoryVideo .HeadingWithDescription');
  $('.categoryValueProps').each(function (i) {
    fadeinup('.categoryValueProps:nth-of-type('+ (i + 1) +') .--animElement', '.categoryValueProps:nth-of-type('+ (i + 1) +')')
  });

  fadeinup('.LifeStylePhotos .HeadingWithDescription *', '.section_lifeStylePhotos');

  $('.LifeStylePhotos--gridContainer .LifeStylePhotos--column').each(function (i) {
    fadeinup('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') figure', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')', 50)
    fadeIn('.LifeStylePhotos--column:nth-of-type('+ (i + 1) +') .more-info', '.LifeStylePhotos--column:nth-of-type('+ (i + 1) +')')
  });
});

function toggleSlide(item) {
  jQuery(item).slideToggle();
}
function downSlide(item) {
  jQuery(item).slideDown();
}
</script> 